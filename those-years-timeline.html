<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Design Chronicle</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;0,900;1,400;1,700&family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --warm-yellow: #F5C561;
            --soft-blue: #B3D4FF;
            --mint-green: #B8E6B8;
            --soft-coral: #FFB8A3;
            --lavender: #D4C4E8;
            --deep-charcoal: #1A1A1A;
            --warm-cream: #FDF8F0;
            --page-bg: #FEFEF8;
        }

        body {
            font-family: 'DM Sans', sans-serif;
            background: var(--page-bg);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* ================================ */
        /* HERO SECTION                     */
        /* ================================ */
        .hero-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            max-width: 1500px;
            margin: 0 auto;
            padding: 80px 60px;
            gap: 60px;
            align-items: center;
        }

        .hero-content {
            max-width: 600px;
        }

        .hero-badge {
            display: inline-block;
            font-size: 11px;
            font-weight: 600;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: var(--deep-charcoal);
            background: rgba(245, 197, 97, 0.4);
            padding: 10px 16px;
            margin-bottom: 40px;
        }

        .hero-title {
            font-family: 'DM Sans', sans-serif;
            font-size: 64px;
            font-weight: 700;
            color: var(--deep-charcoal);
            line-height: 1.05;
            margin-bottom: 30px;
            letter-spacing: -2px;
        }

        .hero-description {
            font-size: 18px;
            line-height: 1.7;
            color: #555;
            max-width: 520px;
        }

        /* Profile Card Image */
        .profile-card-container {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .profile-card-img {
            max-width: 100%;
            width: 420px;
            height: auto;
            filter: drop-shadow(0 4px 20px rgba(0,0,0,0.08));
        }

        /* ================================ */
        /* DAILY LIFE SECTION               */
        /* ================================ */
        .daily-life-section {
            max-width: 1500px;
            margin: 0 auto;
            padding: 60px 60px 80px;
        }

        .daily-life-header {
            margin-bottom: 32px;
        }

        .daily-life-label {
            font-size: 12px;
            font-weight: 600;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: #999;
            margin-bottom: 8px;
        }

        .daily-life-title {
            font-family: 'DM Sans', sans-serif;
            font-size: 36px;
            font-weight: 700;
            letter-spacing: -0.5px;
            color: var(--deep-charcoal);
        }

        /* Card with layers */
        .daily-life-card-wrapper {
            position: relative;
        }

        .daily-life-layer-bottom {
            position: absolute;
            top: 12px;
            left: 12px;
            right: -12px;
            bottom: -12px;
            background: #F0F0F0;
            border-radius: 1px;
            transition: all 0.3s ease;
        }

        .daily-life-layer-middle {
            position: absolute;
            top: 6px;
            left: 6px;
            right: -6px;
            bottom: -6px;
            background: #E5E5E5;
            border-radius: 1px;
            transition: all 0.3s ease;
        }

        .daily-life-card {
            position: relative;
            background: white;
            border: 2px solid var(--deep-charcoal);
            border-radius: 1px;
            padding: 32px 40px;
            transition: all 0.3s ease;
        }

        .daily-life-content {
            display: flex;
            flex-direction: column;
            gap: 32px;
        }

        .daily-life-top {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: flex-end;
            gap: 20px;
        }

        .daily-life-text {
            font-size: clamp(18px, 2.5vw, 24px);
            font-weight: 700;
            line-height: 1.5;
            color: var(--deep-charcoal);
            letter-spacing: -0.3px;
            max-width: 800px;
        }

        .highlight-yellow { background: #FFE8A3; padding: 0 4px; }
        .highlight-green { background: #B8E6B8; padding: 0 4px; }
        .highlight-orange { background: #FFD4A3; padding: 0 4px; }
        .highlight-purple { background: #E8B8FF; padding: 0 4px; }
        .highlight-underline {
            text-decoration: underline;
            text-decoration-style: wavy;
            text-decoration-color: #FFD4A3;
            text-underline-offset: 4px;
        }

        .daily-life-tagline {
            font-size: 14px;
            font-weight: 700;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: var(--deep-charcoal);
            white-space: nowrap;
        }

        /* Stacked Bar Chart */
        .bar-chart-container {
            position: relative;
        }

        .bar-chart {
            height: 56px;
            width: 100%;
            display: flex;
            border: 2px solid var(--deep-charcoal);
            border-radius: 1px;
            overflow: hidden;
            background: #F8F8F8;
        }

        .bar-segment {
            height: 100%;
            width: 0;
            border-right: 1px solid rgba(26, 26, 26, 0.2);
            transition: width 0.8s ease-out;
        }

        .bar-segment:last-child {
            border-right: none;
        }

        .bar-yellow { background: #FFE8A3; }
        .bar-green { background: #B8E6B8; }
        .bar-orange { background: #FFD4A3; }
        .bar-purple { background: #E8B8FF; }

        /* ================================ */
        /* MAIN CONTENT WRAPPER             */
        /* ================================ */
        .main-content {
            transition: width 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            width: 100%;
        }

        body.drawer-open .main-content {
            width: 40%;
        }

        /* Section Header */
        .section-header {
            padding: 80px 60px 50px;
            max-width: 1500px;
            margin: 0 auto;
        }

        .section-label {
            font-size: 11px;
            font-weight: 500;
            letter-spacing: 2.5px;
            text-transform: uppercase;
            color: #888;
            margin-bottom: 12px;
        }

        .section-title-main {
            font-family: 'DM Sans', sans-serif;
            font-size: 36px;
            font-weight: 700;
            color: var(--deep-charcoal);
        }

        /* Timeline Container */
        .timeline-container {
            max-width: 1500px;
            margin: 0 auto;
            padding: 0 60px 100px;
            position: relative;
        }

        /* Continuous timeline line */
        .timeline-line {
            position: absolute;
            left: 66px;
            top: 0;
            bottom: 60px;
            width: 2px;
            background: #E5E5E0;
        }

        /* Timeline Row */
        .timeline-row {
            display: flex;
            align-items: flex-start;
            margin-bottom: 60px;
            position: relative;
        }

        /* Timeline Track (left side) */
        .timeline-track {
            width: 80px;
            flex-shrink: 0;
            position: relative;
            padding-top: 0;
        }

        /* Year and dot container */
        .year-marker {
            display: flex;
            align-items: center;
            gap: 14px;
            padding-top: 50px;
        }

        .timeline-dot {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background: var(--page-bg);
            border: 2px solid #D8D4CF;
            flex-shrink: 0;
            position: relative;
            z-index: 2;
            transition: all 0.3s ease;
        }

        .timeline-row:hover .timeline-dot {
            border-color: var(--deep-charcoal);
            transform: scale(1.2);
        }

        .timeline-year {
            font-size: 16px;
            font-weight: 600;
            color: var(--deep-charcoal);
        }

        /* ================================ */
        /* MILESTONE CARD WITH LAYERS      */
        /* ================================ */
        .card-wrapper {
            flex: 1;
            position: relative;
            margin-bottom: 6px;
            margin-right: 6px;
        }

        /* Bottom layer - Foundation */
        .card-layer-bottom {
            position: absolute;
            top: 6px;
            left: 6px;
            right: -6px;
            bottom: -6px;
            background: #E0E0E0;
            border-radius: 1px;
        }

        /* Middle layer - Transition */
        .card-layer-middle {
            position: absolute;
            top: 3px;
            left: 3px;
            right: -3px;
            bottom: -3px;
            background: #EAEAEA;
            border-radius: 1px;
        }

        /* Top layer - Card */
        .milestone-card {
            position: relative;
            background: var(--warm-cream);
            border-radius: 1px;
            overflow: hidden;
            min-height: 500px;
            border: 2px solid var(--deep-charcoal);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .milestone-card.clickable:hover {
            transform: translate(-2px, -2px);
        }

        .milestone-card.active {
            border-color: var(--deep-charcoal);
        }

        /* Diagonal Accent */
        .diagonal-accent {
            position: absolute;
            top: 0;
            left: 0;
            width: 42%;
            height: 100%;
            clip-path: polygon(0 0, 100% 0, 60% 100%, 0 100%);
            z-index: 0;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        /* Color palette */
        .diagonal-accent.blue { background: var(--soft-blue); }
        .diagonal-accent.yellow { background: var(--warm-yellow); }
        .diagonal-accent.mint { background: var(--mint-green); }
        .diagonal-accent.coral { background: var(--soft-coral); }
        .diagonal-accent.lavender { background: var(--lavender); }

        /* Content Grid */
        .content-grid {
            display: grid;
            grid-template-columns: 38% 62%;
            min-height: 500px;
            position: relative;
            z-index: 1;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        /* Text Content */
        .text-content {
            padding: 50px 30px 50px 40px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            max-width: 340px;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .meta-line {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 28px;
            font-size: 12px;
            font-weight: 500;
            letter-spacing: 2.5px;
            text-transform: uppercase;
            color: var(--deep-charcoal);
        }

        .meta-dash {
            display: none;
        }

        .headline {
            font-family: 'Playfair Display', serif;
            font-size: clamp(28px, 3vw, 42px);
            font-weight: 400;
            color: var(--deep-charcoal);
            line-height: 1.1;
            margin-bottom: 18px;
            letter-spacing: -0.5px;
            transition: font-size 0.4s ease;
        }

        .headline strong { font-weight: 700; }
        .headline em { font-style: italic; font-weight: 700; }

        .description {
            font-size: 14px;
            line-height: 1.7;
            color: #3A3A3A;
            margin-bottom: 24px;
            max-width: 300px;
            transition: all 0.4s ease;
        }

        .tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            max-width: 280px;
        }

        .tag {
            font-size: 12px;
            font-weight: 500;
            padding: 8px 14px;
            background: white;
            border: 1.5px solid var(--deep-charcoal);
            color: var(--deep-charcoal);
            transition: all 0.2s ease;
        }

        .tag:hover {
            background: var(--deep-charcoal);
            color: white;
        }

        .dot-pattern {
            margin-top: 30px;
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 6px;
            opacity: 0.3;
            width: fit-content;
            transition: all 0.4s ease;
        }

        .dot {
            width: 4px;
            height: 4px;
            background: var(--deep-charcoal);
            border-radius: 50%;
        }

        /* Cards Area */
        .cards-area {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 30px 25px;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .cards-columns {
            display: flex;
            gap: 8px;
            transition: all 0.4s ease;
        }

        .card-column {
            display: flex;
            flex-direction: column;
            gap: 10px;
            width: 115px;
            transition: all 0.4s ease;
        }

        .card-column:nth-child(1) { margin-top: -25px; }
        .card-column:nth-child(2) { margin-top: 18px; }
        .card-column:nth-child(3) { margin-top: -40px; }
        .card-column:nth-child(4) { margin-top: 5px; }

        /* 2022 cards - 3 column collage with staggered vertical starts */
        .cards-2022-collage {
            display: flex;
            gap: 11px;
            align-items: flex-start;
        }
        .cards-2022-collage .col {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        .cards-2022-collage .col-left {
            width: 216px;
            margin-top: 0;
        }
        .cards-2022-collage .col-mid {
            width: 162px;
            margin-top: 54px;
        }
        .cards-2022-collage .col-right {
            width: 180px;
            margin-top: -18px;
        }
        .cards-2022-collage .card-img {
            width: 100%;
            border-radius: 6px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
            opacity: 0;
            transform: scale(1.15);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .cards-2022-collage .card-img.animate {
            animation: fadeScaleIn 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }
        .cards-2022-collage .card-img:hover {
            transform: scale(1.02);
            box-shadow: 0 8px 24px rgba(0,0,0,0.15);
        }

        .card-img {
            width: 100%;
            height: auto;
            border-radius: 6px;
            box-shadow: 0 3px 12px rgba(0,0,0,0.1);
            display: block;
            opacity: 0;
            transform: scale(1.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease, width 0.4s ease;
        }

        .card-img.animate {
            animation: fadeScaleIn 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        @keyframes fadeScaleIn {
            from { opacity: 0; transform: scale(1.2); }
            to { opacity: 1; transform: scale(1); }
        }

        .card-img:hover {
            z-index: 10;
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        /* Placeholder for cards */
        .cards-placeholder {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            padding: 40px;
            color: #AAA;
            font-size: 14px;
            font-style: italic;
        }

        /* Feature blocks grid */
        .feature-blocks {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            padding: 20px;
            width: 100%;
            max-width: 480px;
        }

        .feature-block {
            background: #F8F8F6;
            border: 1px solid var(--deep-charcoal);
            border-radius: 0;
            padding: 24px 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            gap: 12px;
            min-height: 120px;
        }

        .feature-block-icon {
            font-size: 32px;
            line-height: 1;
        }

        .feature-block-label {
            font-size: 11px;
            font-weight: 600;
            letter-spacing: 1px;
            text-transform: uppercase;
            color: var(--deep-charcoal);
            line-height: 1.3;
        }

        body.drawer-open .feature-blocks {
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
            max-width: 100%;
        }

        body.drawer-open .feature-block {
            padding: 16px 12px;
            min-height: 90px;
        }

        body.drawer-open .feature-block-icon {
            font-size: 24px;
        }

        body.drawer-open .feature-block-label {
            font-size: 9px;
        }

        @media (max-width: 768px) {
            .feature-blocks {
                grid-template-columns: repeat(2, 1fr);
                gap: 8px;
                max-width: 100%;
            }

            .feature-block {
                padding: 16px 12px;
                min-height: 90px;
            }

            .feature-block-icon {
                font-size: 24px;
            }

            .feature-block-label {
                font-size: 9px;
            }
        }

        /* Replay Button */
        .replay-btn {
            position: absolute;
            top: 16px;
            right: 16px;
            z-index: 10;
            padding: 8px 16px;
            font-size: 10px;
            font-weight: 600;
            letter-spacing: 1px;
            text-transform: uppercase;
            background: var(--deep-charcoal);
            color: white;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 6px;
            border-radius: 4px;
        }

        .replay-btn:hover {
            background: #333;
            transform: scale(1.02);
        }

        .replay-btn svg {
            width: 12px;
            height: 12px;
        }

        /* ================================ */
        /* DRAWER OPEN STATE - CARD LAYOUT */
        /* ================================ */
        body.drawer-open .milestone-card {
            min-height: auto;
        }

        body.drawer-open .content-grid {
            grid-template-columns: 1fr;
            grid-template-rows: auto auto;
            min-height: auto;
        }

        body.drawer-open .diagonal-accent {
            width: 100%;
            height: 280px;
            clip-path: polygon(0 0, 100% 0, 100% 75%, 0 100%);
            position: absolute;
            top: 0;
            left: 0;
        }

        body.drawer-open .text-content {
            padding: 50px 30px 20px;
            max-width: 100%;
            position: relative;
            z-index: 2;
        }

        body.drawer-open .headline {
            font-size: 26px;
            line-height: 1.2;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        body.drawer-open .headline br {
            display: none;
        }

        body.drawer-open .meta-line {
            margin-bottom: 16px;
        }

        body.drawer-open .description {
            max-width: 100%;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
            margin-bottom: 16px;
        }

        body.drawer-open .tags {
            max-width: 100%;
        }

        body.drawer-open .dot-pattern {
            display: none;
        }

        body.drawer-open .cards-area {
            padding: 20px;
            justify-content: center;
            overflow-x: auto;
            background: var(--warm-cream);
            position: relative;
            z-index: 1;
        }

        body.drawer-open .cards-columns {
            gap: 8px;
        }

        body.drawer-open .card-column {
            width: 90px;
            gap: 8px;
        }

        body.drawer-open .card-column:nth-child(1) { margin-top: -20px; }
        body.drawer-open .card-column:nth-child(2) { margin-top: 15px; }
        body.drawer-open .card-column:nth-child(3) { margin-top: -25px; }
        body.drawer-open .card-column:nth-child(4) { margin-top: 8px; }

        body.drawer-open .cards-2022-collage {
            gap: 8px;
        }
        body.drawer-open .cards-2022-collage .col-left {
            width: 144px;
        }
        body.drawer-open .cards-2022-collage .col-mid {
            width: 108px;
            margin-top: 36px;
        }
        body.drawer-open .cards-2022-collage .col-right {
            width: 126px;
            margin-top: -9px;
        }
        body.drawer-open .cards-2022-collage .col {
            gap: 8px;
        }

        body.drawer-open .replay-btn {
            top: 12px;
            right: 12px;
            padding: 8px 14px;
            font-size: 10px;
        }

        body.drawer-open .daily-life-section {
            padding: 40px 30px 50px;
        }

        body.drawer-open .daily-life-header {
            margin-bottom: 24px;
        }

        body.drawer-open .daily-life-title {
            font-size: 28px;
        }

        body.drawer-open .daily-life-card-wrapper {
            margin-right: 8px;
            margin-bottom: 8px;
        }

        body.drawer-open .daily-life-layer-bottom {
            top: 8px;
            left: 8px;
            right: -8px;
            bottom: -8px;
        }

        body.drawer-open .daily-life-layer-middle {
            top: 4px;
            left: 4px;
            right: -4px;
            bottom: -4px;
        }

        body.drawer-open .daily-life-card {
            padding: 20px 24px;
        }

        body.drawer-open .daily-life-content {
            gap: 24px;
        }

        body.drawer-open .daily-life-text {
            font-size: 16px;
            line-height: 1.6;
        }

        body.drawer-open .daily-life-top {
            flex-direction: column;
            align-items: flex-start;
            gap: 12px;
        }

        body.drawer-open .daily-life-tagline {
            align-self: flex-end;
            font-size: 12px;
        }

        body.drawer-open .bar-chart {
            height: 40px;
        }

        body.drawer-open .section-header {
            padding: 50px 30px 30px;
        }

        body.drawer-open .section-title-main {
            font-size: 32px;
        }

        body.drawer-open .timeline-container {
            padding: 0 30px 60px;
        }

        body.drawer-open .timeline-line {
            left: 36px;
        }

        body.drawer-open .timeline-track {
            width: 40px;
        }

        body.drawer-open .timeline-year {
            display: none;
        }

        body.drawer-open .timeline-row {
            margin-bottom: 40px;
        }

        /* ================================ */
        /* DRAWER                           */
        /* ================================ */
        .drawer {
            position: fixed;
            top: 0;
            right: 0;
            width: 60%;
            height: 100vh;
            background: white;
            transform: translateX(100%);
            transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            z-index: 100;
            overflow-y: auto;
            box-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.25);
        }

        body.drawer-open .drawer {
            transform: translateX(0);
        }

        /* Drawer Header */
        .drawer-header {
            padding: 40px 64px;
            border-bottom: 1px solid #E8E8E8;
            position: relative;
        }

        .drawer-label {
            font-size: 11px;
            font-weight: 600;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: #999;
            margin-bottom: 10px;
        }

        .drawer-title {
            font-family: 'DM Sans', sans-serif;
            font-size: 26px;
            font-weight: 600;
            color: var(--deep-charcoal);
            line-height: 1.3;
        }

        .drawer-close {
            position: absolute;
            top: 40px;
            right: 64px;
            width: 28px;
            height: 28px;
            border: none;
            background: transparent;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: #999;
            transition: all 0.2s ease;
        }

        .drawer-close:hover {
            color: var(--deep-charcoal);
        }

        /* Drawer Body */
        .drawer-body {
            padding: 50px 64px;
        }

        /* Section */
        .drawer-section {
            margin-bottom: 72px;
            padding-bottom: 72px;
            position: relative;
        }

        .drawer-section::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 2px;
            background: #E0E0E0;
        }

        .drawer-section:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .drawer-section:last-child::after {
            display: none;
        }

        /* Challenge text section has smaller spacing to stat-card below */
        .drawer-section:has(.drawer-section-text):first-child {
            margin-bottom: 24px;
            padding-bottom: 0;
        }

        .drawer-section:has(.drawer-section-text):first-child::after {
            display: none;
        }

        /* Stat card section - no divider after challenge */
        .drawer-section:has(.stat-card) {
            padding-bottom: 72px;
        }

        .drawer-section-label {
            font-size: 11px;
            font-weight: 600;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: #999;
            margin-bottom: 16px;
        }

        .drawer-section-text {
            font-size: 17px;
            line-height: 1.7;
            color: #555;
        }

        /* Feature Card */
        .feature-card {
            background: #F8F8F6;
            border-radius: 8px;
            padding: 28px;
            margin-top: 20px;
        }

        .feature-card-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--deep-charcoal);
            margin-bottom: 14px;
        }

        .feature-card-text {
            font-size: 15px;
            line-height: 1.7;
            color: #666;
            margin-bottom: 24px;
        }

        .feature-items {
            display: flex;
            gap: 12px;
        }

        .feature-item {
            flex: 1;
            background: white;
            border-radius: 6px;
            padding: 20px;
        }

        .feature-icon {
            font-size: 24px;
            margin-bottom: 12px;
        }

        .feature-label {
            font-size: 14px;
            font-weight: 600;
            color: var(--deep-charcoal);
        }

        /* Outcome Section */
        .outcome-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .outcome-item {
            display: flex;
            align-items: flex-start;
            gap: 16px;
        }

        .outcome-number {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: #F5F0E6;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 15px;
            font-weight: 600;
            color: var(--deep-charcoal);
            flex-shrink: 0;
        }

        .outcome-text {
            font-size: 16px;
            line-height: 1.6;
            color: #555;
            padding-top: 6px;
        }

        /* Project Type Section */
        .project-type-card {
            margin-bottom: 24px;
            padding: 40px;
            background: #F8F8F6;
            border: 1px solid var(--deep-charcoal);
            cursor: pointer;
        }

        .project-type-card::after {
            display: none;
        }

        .project-type-card:last-child {
            margin-bottom: 0;
        }

        .project-type-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 24px;
        }

        .project-type-tag {
            display: inline-block;
            background: #FFCAB8;
            border: 1px solid var(--deep-charcoal);
            padding: 8px 14px;
            font-size: 11px;
            font-weight: 600;
            letter-spacing: 1px;
            text-transform: uppercase;
            color: var(--deep-charcoal);
        }

        .project-type-toggle {
            width: 40px;
            height: 40px;
            border: 1px solid var(--deep-charcoal);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            color: var(--deep-charcoal);
            transition: transform 0.3s ease;
            flex-shrink: 0;
            background: transparent;
        }

        .project-type-card.expanded .project-type-toggle {
            transform: rotate(180deg);
        }

        .project-type-quote {
            font-family: 'DM Sans', sans-serif;
            font-size: 26px;
            font-weight: 600;
            color: var(--deep-charcoal);
            line-height: 1.3;
            margin-bottom: 12px;
        }

        .project-type-description {
            font-size: 16px;
            line-height: 1.6;
            color: #666;
        }

        .project-type-expanded {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, margin-top 0.3s ease;
            margin-top: 0;
        }

        .project-type-card.expanded .project-type-expanded {
            max-height: 1000px;
            margin-top: 28px;
        }

        /* Section Header (centered, large) */
        .section-header {
            text-align: center;
            margin-bottom: 48px;
            padding-bottom: 0;
        }

        .section-header::after {
            display: none;
        }

        .section-header-title {
            font-family: 'Playfair Display', serif;
            font-size: 32px;
            font-weight: 400;
            font-style: italic;
            color: var(--deep-charcoal);
            line-height: 1.3;
        }

        /* Stat Card - neo-brutalist style */
        .stat-card {
            background: #F8F8F6;
            border: 1px solid var(--deep-charcoal);
            padding: 28px;
        }

        .stat-card-text {
            font-size: 18px;
            font-weight: 600;
            color: var(--deep-charcoal);
            margin-bottom: 8px;
        }

        .stat-card-source {
            font-size: 14px;
            color: #888;
        }

        /* Problem Section */
        .problem-title {
            font-family: 'Playfair Display', serif;
            font-size: 28px;
            font-weight: 400;
            font-style: italic;
            color: var(--deep-charcoal);
            margin-bottom: 32px;
            line-height: 1.3;
        }

        .problem-columns {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
        }

        .problem-column-header {
            font-size: 14px;
            font-weight: 600;
            color: var(--deep-charcoal);
            margin-bottom: 12px;
        }

        .problem-column-list {
            list-style: disc;
            padding-left: 18px;
            font-size: 14px;
            line-height: 1.6;
            color: #555;
        }

        .problem-column-list li {
            margin-bottom: 8px;
        }

        @media (max-width: 768px) {
            .problem-columns {
                grid-template-columns: 1fr;
                gap: 20px;
            }
        }

        /* Problem Illustration Image */
        .problem-illustration-image {
            margin-top: 40px;
            text-align: center;
        }

        .illustration-img {
            max-width: 100%;
            height: auto;
        }

        /* Solution Section */
        .solution-title {
            font-family: 'Playfair Display', serif;
            font-size: 28px;
            font-weight: 400;
            font-style: italic;
            color: var(--deep-charcoal);
            margin-bottom: 32px;
            line-height: 1.3;
        }

        .solution-columns {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
            margin-bottom: 40px;
        }

        .solution-column-header {
            font-size: 14px;
            font-weight: 600;
            color: var(--deep-charcoal);
            margin-bottom: 12px;
        }

        .solution-column-list {
            list-style: disc;
            padding-left: 18px;
            font-size: 14px;
            line-height: 1.6;
            color: #555;
        }

        .solution-column-list li {
            margin-bottom: 8px;
        }

        /* Role Section */
        .role-title {
            font-family: 'Playfair Display', serif;
            font-size: 28px;
            font-weight: 400;
            font-style: italic;
            color: var(--deep-charcoal);
            margin-bottom: 32px;
            line-height: 1.3;
        }

        .role-columns {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
        }

        .role-column-header {
            font-size: 14px;
            font-weight: 600;
            color: var(--deep-charcoal);
            margin-bottom: 12px;
        }

        .role-column-list {
            list-style: disc;
            padding-left: 18px;
            font-size: 14px;
            line-height: 1.6;
            color: #555;
        }

        .role-column-list li {
            margin-bottom: 8px;
        }

        @media (max-width: 768px) {
            .role-columns {
                grid-template-columns: 1fr;
                gap: 20px;
            }
        }

        .role-image-container {
            margin-top: 32px;
        }

        .role-img {
            max-width: 100%;
            height: auto;
        }

        /* Work Areas (4-column layout with vertical lines) */
        .work-areas {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 32px;
            margin-top: 48px;
            padding: 40px;
            background: #FDF8F4;
            border-radius: 0;
        }

        .work-area {
            position: relative;
        }

        .work-area-header {
            font-size: 18px;
            font-weight: 600;
            color: var(--deep-charcoal);
            margin-bottom: 8px;
        }

        .work-area-subtitle {
            font-size: 13px;
            color: #888;
            margin-bottom: 20px;
        }

        .work-area-line {
            width: 2px;
            height: 24px;
            background: var(--deep-charcoal);
            margin-bottom: 16px;
        }

        .work-area-description {
            font-size: 14px;
            line-height: 1.6;
            color: #666;
        }

        .work-area-description strong {
            color: var(--deep-charcoal);
            font-weight: 600;
        }

        @media (max-width: 1024px) {
            .work-areas {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .work-areas {
                grid-template-columns: 1fr;
                gap: 32px;
            }
        }

        /* Tab Component */
        .solution-tabs {
            margin-top: 32px;
        }

        .tabs-controls {
            display: flex;
            align-items: center;
            gap: 24px;
        }

        /* Segment Control - neo-brutalist */
        .segment-control {
            display: flex;
            border: 1px solid var(--deep-charcoal);
        }

        .segment-btn {
            padding: 10px 20px;
            font-size: 13px;
            font-weight: 500;
            background: white;
            border: none;
            border-right: 1px solid var(--deep-charcoal);
            cursor: pointer;
            transition: all 0.2s ease;
            color: var(--deep-charcoal);
        }

        .segment-btn:last-child {
            border-right: none;
        }

        .segment-btn:hover {
            background: #F5F5F5;
        }

        .segment-btn.active {
            background: var(--deep-charcoal);
            color: white;
        }

        /* Toggle Group - minimal style */
        .toggle-group {
            display: flex;
            gap: 8px;
        }

        .toggle-group.hidden {
            display: none;
        }

        .toggle-btn {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 8px 12px;
            font-size: 13px;
            font-weight: 500;
            background: transparent;
            border: none;
            cursor: pointer;
            color: #888;
            transition: all 0.2s ease;
        }

        .toggle-btn:hover {
            color: var(--deep-charcoal);
        }

        .toggle-btn.active {
            color: var(--deep-charcoal);
        }

        .toggle-btn.active .toggle-label {
            text-decoration: underline;
            text-underline-offset: 3px;
        }

        .toggle-icon {
            font-size: 16px;
        }

        .toggle-label {
            font-size: 13px;
        }

        .tab-contents {
            margin-top: 24px;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .tab-image,
        .tab-video {
            width: 100%;
            max-width: 100%;
            border: 1px solid #E5E5E5;
            border-radius: 0;
            display: block;
        }

        @media (max-width: 768px) {
            .solution-columns {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            .tabs-controls {
                flex-direction: column;
                align-items: flex-start;
                gap: 16px;
            }
        }

        /* ================================ */
        /* RESPONSIVE                       */
        /* ================================ */
        @media (max-width: 1200px) {
            .hero-section {
                padding: 60px 40px;
                gap: 40px;
            }

            .hero-title {
                font-size: clamp(40px, 5vw, 60px);
            }

            .profile-card-img {
                width: 360px;
            }

            .daily-life-section {
                padding: 50px 40px 70px;
            }

            .card-column {
                width: 95px;
            }

            body.drawer-open .main-content {
                width: 45%;
            }

            .drawer {
                width: 55%;
            }
        }

        @media (max-width: 1024px) {
            .hero-section {
                grid-template-columns: 1fr;
                min-height: auto;
                padding: 60px 30px;
            }

            .hero-content {
                max-width: 100%;
                text-align: center;
            }

            .hero-badge {
                margin-bottom: 24px;
            }

            .hero-description {
                max-width: 100%;
            }

            .profile-card-container {
                margin-top: 40px;
            }

            .profile-card-img {
                width: 340px;
            }

            .daily-life-section {
                padding: 40px 30px 60px;
            }

            .daily-life-card {
                padding: 28px 32px;
            }

            .section-header,
            .timeline-container {
                padding-left: 30px;
                padding-right: 30px;
            }

            .timeline-line {
                left: 36px;
            }

            .timeline-track {
                width: 70px;
            }

            .content-grid {
                grid-template-columns: 42% 58%;
            }

            .text-content {
                padding: 40px 20px 40px 30px;
            }

            .headline {
                font-size: clamp(24px, 3vw, 36px);
            }

            .card-column {
                width: 85px;
                gap: 8px;
            }

            body.drawer-open .main-content {
                width: 40%;
            }

            .drawer {
                width: 60%;
            }

            .drawer-header,
            .drawer-body {
                padding-left: 30px;
                padding-right: 30px;
            }
        }

        @media (max-width: 768px) {
            .hero-section {
                padding: 40px 20px;
            }

            .hero-title {
                font-size: 36px;
                margin-bottom: 20px;
            }

            .hero-description {
                font-size: 16px;
            }

            .profile-card-img {
                width: 300px;
            }

            .daily-life-section {
                padding: 30px 20px 50px;
            }

            .daily-life-card {
                padding: 24px;
            }

            .daily-life-top {
                flex-direction: column;
                align-items: flex-start;
            }

            .daily-life-tagline {
                align-self: flex-end;
            }

            .bar-chart {
                height: 48px;
            }

            .section-header {
                padding: 50px 20px 30px;
            }

            .section-title-main {
                font-size: 36px;
            }

            .timeline-container {
                padding: 0 20px 60px;
            }

            .timeline-row {
                margin-bottom: 40px;
            }

            .timeline-track {
                width: 80px;
            }

            .year-marker {
                padding-top: 50px;
            }

            .card-wrapper {
                margin-right: 12px;
                margin-bottom: 12px;
            }

            .milestone-card {
                min-height: auto;
            }

            .content-grid {
                grid-template-columns: 1fr;
                grid-template-rows: auto auto;
                min-height: auto;
            }

            .diagonal-accent {
                width: 100%;
                height: 280px;
                clip-path: polygon(0 0, 100% 0, 100% 75%, 0 100%);
                position: absolute;
                top: 0;
                left: 0;
            }

            .text-content {
                padding: 50px 30px 20px;
                max-width: 100%;
                position: relative;
                z-index: 2;
            }

            .headline {
                font-size: 26px;
                line-height: 1.2;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
            }

            .meta-line {
                margin-bottom: 16px;
            }

            .description {
                display: -webkit-box;
                -webkit-line-clamp: 3;
                -webkit-box-orient: vertical;
                overflow: hidden;
                max-width: 100%;
                margin-bottom: 16px;
            }

            .tags {
                max-width: 100%;
            }

            .dot-pattern {
                display: none;
            }

            .cards-area {
                padding: 20px;
                justify-content: center;
                background: var(--warm-cream);
                position: relative;
                z-index: 1;
            }

            .cards-columns {
                gap: 8px;
            }

            .card-column {
                width: 90px;
                gap: 8px;
            }

            .card-column:nth-child(1) { margin-top: -20px; }
            .card-column:nth-child(2) { margin-top: 15px; }
            .card-column:nth-child(3) { margin-top: -25px; }
            .card-column:nth-child(4) { margin-top: 8px; }

            .replay-btn {
                top: 12px;
                right: 12px;
                padding: 8px 14px;
                font-size: 10px;
            }

            body.drawer-open .main-content {
                width: 100%;
                opacity: 0.3;
                pointer-events: none;
            }

            .drawer {
                width: 85%;
            }

            .feature-items {
                flex-direction: column;
            }
        }

        @media (max-width: 480px) {
            .hero-title {
                font-size: 32px;
            }

            .profile-card-img {
                width: 100%;
                max-width: 280px;
            }

            .daily-life-text {
                font-size: 16px;
            }

            .timeline-line {
                display: none;
            }

            .timeline-track {
                display: none;
            }

            .timeline-row {
                margin-bottom: 30px;
            }

            .text-content {
                padding: 30px 24px 20px;
            }

            .headline {
                font-size: 22px;
            }

            .card-column {
                width: 70px;
            }

            .cards-columns {
                gap: 6px;
            }

            .drawer {
                width: 100%;
            }

            .drawer-header,
            .drawer-body {
                padding: 30px 20px;
            }

            .drawer-title {
                font-size: 22px;
            }
        }
    </style>
</head>
<body>
    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-content">
            <div class="hero-badge">Data Design Chronicle</div>
            <h1 class="hero-title">12 years of unlocking<br>the power of data</h1>
            <p class="hero-description">From static dashboards to intelligent systems — a chronicle of how I've transformed the relationship between humans and data through thoughtful design.</p>
        </div>

        <div class="profile-card-container">
            <img src="images/image-01.png" alt="Fanfan - Product Designer" class="profile-card-img">
        </div>
    </section>

    <!-- Daily Life Section -->
    <section class="daily-life-section" id="dailyLifeSection">
        <div class="daily-life-header">
            <p class="daily-life-label">The Human Element</p>
            <h2 class="daily-life-title">My day to day life</h2>
        </div>

        <div class="daily-life-card-wrapper">
            <div class="daily-life-layer-bottom"></div>
            <div class="daily-life-layer-middle"></div>
            <div class="daily-life-card">
                <div class="daily-life-content">
                    <div class="daily-life-top">
                        <p class="daily-life-text">
                            My day-to-day is roughly <span class="highlight-yellow">70% designer and mentor</span>, <span class="highlight-green">15% "PM"</span>, <span class="highlight-orange">10% "analyst"</span>, and <span class="highlight-purple">5% "engineer"</span>; and <span class="highlight-underline">100% user</span>
                        </p>
                        <div class="daily-life-tagline">— 100% human</div>
                    </div>

                    <div class="bar-chart-container">
                        <div class="bar-chart" id="barChart">
                            <div class="bar-segment bar-yellow" data-width="70" style="transition-delay: 0s;"></div>
                            <div class="bar-segment bar-green" data-width="15" style="transition-delay: 0.1s;"></div>
                            <div class="bar-segment bar-orange" data-width="10" style="transition-delay: 0.2s;"></div>
                            <div class="bar-segment bar-purple" data-width="5" style="transition-delay: 0.3s;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Section Header -->
        <header class="section-header">
            <p class="section-label">Those years...</p>
            <h2 class="section-title-main">In data design orbit</h2>
        </header>

        <!-- Timeline -->
        <div class="timeline-container">
            <!-- Continuous vertical line -->
            <div class="timeline-line"></div>

            <!-- 2013 - Soft Blue -->
            <div class="timeline-row">
                <div class="timeline-track">
                    <div class="year-marker">
                        <div class="timeline-dot"></div>
                        <span class="timeline-year">2013</span>
                    </div>
                </div>
                <div class="card-wrapper">
                    <div class="card-layer-bottom"></div>
                    <div class="card-layer-middle"></div>
                    <div class="milestone-card clickable" id="card2013" data-card="2013">
                        <div class="diagonal-accent blue"></div>
                        <div class="content-grid">
                            <div class="text-content">
                                <div class="meta-line">
                                    <span class="meta-dash"></span>
                                    <span>2013–2018 • MicroStrategy</span>
                                </div>
                                <h2 class="headline">Make <strong>dashboard building and data modeling intuitive</strong></h2>
                                <p class="description">Transformed complex SQL operations into visual interfaces. Built systems where business users could create sophisticated dashboards without writing code.</p>
                                <div class="tags">
                                    <span class="tag">No code</span>
                                    <span class="tag">Drag and drop dashboards</span>
                                    <span class="tag">Data analyst / architects</span>
                                    <span class="tag">Self-Service BI</span>
                                </div>
                                <div class="dot-pattern">
                                    <span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span>
                                    <span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span>
                                    <span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span>
                                </div>
                            </div>
                            <div class="cards-area">
                                <div class="cards-placeholder">Case study visuals coming soon...</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 2018 - Warm Yellow (unchanged) -->
            <div class="timeline-row" id="row2018">
                <div class="timeline-track">
                    <div class="year-marker">
                        <div class="timeline-dot"></div>
                        <span class="timeline-year">2018</span>
                    </div>
                </div>
                <div class="card-wrapper">
                    <div class="card-layer-bottom"></div>
                    <div class="card-layer-middle"></div>
                    <div class="milestone-card clickable" id="card2018" data-card="2018">
                        <div class="diagonal-accent yellow"></div>
                        <button class="replay-btn" onclick="event.stopPropagation(); playAnimation2018();">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M1 4v6h6"></path>
                                <path d="M23 20v-6h-6"></path>
                                <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>
                            </svg>
                            Replay
                        </button>
                        <div class="content-grid">
                            <div class="text-content">
                                <div class="meta-line">
                                    <span class="meta-dash"></span>
                                    <span>2018–2020 • MicroStrategy</span>
                                </div>
                                <h2 class="headline">Make <strong>data insights <em>find</em> people</strong></h2>
                                <p class="description">Pioneered zero-click intelligence where insights surface contextually in workflows. No more dashboard hunting — relevant data finds users exactly when they need it.</p>
                                <div class="tags">
                                    <span class="tag">Non-data Expert</span>
                                    <span class="tag">Contextual Insights</span>
                                    <span class="tag">Zero Click Analytics</span>
                                </div>
                                <div class="dot-pattern">
                                    <span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span>
                                    <span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span>
                                    <span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span>
                                </div>
                            </div>
                            <div class="cards-area">
                                <div class="cards-columns" id="cards2018">
                                    <div class="card-column">
                                        <img src="images/image-02.png" class="card-img" data-delay="50">
                                        <img src="images/image-03.png" class="card-img" data-delay="280">
                                        <img src="images/image-04.png" class="card-img" data-delay="510">
                                    </div>
                                    <div class="card-column">
                                        <img src="images/image-05.png" class="card-img" data-delay="180">
                                        <img src="images/image-06.png" class="card-img" data-delay="410">
                                        <img src="images/image-07.png" class="card-img" data-delay="640">
                                    </div>
                                    <div class="card-column">
                                        <img src="images/image-08.png" class="card-img" data-delay="120">
                                        <img src="images/image-09.png" class="card-img" data-delay="350">
                                        <img src="images/image-10.png" class="card-img" data-delay="580">
                                    </div>
                                    <div class="card-column">
                                        <img src="images/image-11.png" class="card-img" data-delay="220">
                                        <img src="images/image-12.png" class="card-img" data-delay="450">
                                        <img src="images/image-13.png" class="card-img" data-delay="680">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 2020 - Mint Green -->
            <div class="timeline-row">
                <div class="timeline-track">
                    <div class="year-marker">
                        <div class="timeline-dot"></div>
                        <span class="timeline-year">2020</span>
                    </div>
                </div>
                <div class="card-wrapper">
                    <div class="card-layer-bottom"></div>
                    <div class="card-layer-middle"></div>
                    <div class="milestone-card clickable" id="card2020" data-card="2020">
                        <div class="diagonal-accent mint"></div>
                        <div class="content-grid">
                            <div class="text-content">
                                <div class="meta-line">
                                    <span class="meta-dash"></span>
                                    <span>2020–2022 • SigmaComputing</span>
                                </div>
                                <h2 class="headline">Make <strong>data analysis approachable</strong></h2>
                                <p class="description">Democratized data analysis with spreadsheet interface that runs on top of live warehouse data.</p>
                                <div class="tags">
                                    <span class="tag">Business users</span>
                                    <span class="tag">True self-service</span>
                                </div>
                                <div class="dot-pattern">
                                    <span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span>
                                    <span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span>
                                    <span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span>
                                </div>
                            </div>
                            <div class="cards-area">
                                <div class="feature-blocks">
                                    <div class="feature-block">
                                        <span class="feature-block-icon">🤝</span>
                                        <span class="feature-block-label">Live Collaboration</span>
                                    </div>
                                    <div class="feature-block">
                                        <span class="feature-block-icon">📈</span>
                                        <span class="feature-block-label">Growth Design</span>
                                    </div>
                                    <div class="feature-block">
                                        <span class="feature-block-icon">🔗</span>
                                        <span class="feature-block-label">Data Lineage</span>
                                    </div>
                                    <div class="feature-block">
                                        <span class="feature-block-icon">🔄</span>
                                        <span class="feature-block-label">Data Swapping</span>
                                    </div>
                                    <div class="feature-block">
                                        <span class="feature-block-icon">👋</span>
                                        <span class="feature-block-label">Onboarding Experience</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 2022 - Soft Coral -->
            <div class="timeline-row">
                <div class="timeline-track">
                    <div class="year-marker">
                        <div class="timeline-dot"></div>
                        <span class="timeline-year">2022</span>
                    </div>
                </div>
                <div class="card-wrapper">
                    <div class="card-layer-bottom"></div>
                    <div class="card-layer-middle"></div>
                    <div class="milestone-card clickable" id="card2022" data-card="2022">
                        <div class="diagonal-accent coral"></div>
                        <button class="replay-btn" onclick="event.stopPropagation(); playAnimation2022();">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M1 4v6h6"></path>
                                <path d="M23 20v-6h-6"></path>
                                <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>
                            </svg>
                            Replay
                        </button>
                        <div class="content-grid">
                            <div class="text-content">
                                <div class="meta-line">
                                    <span class="meta-dash"></span>
                                    <span>2022–2025 • SigmaComputing</span>
                                </div>
                                <h2 class="headline">Make <strong>data fluid</strong></h2>
                                <p class="description">Enable non-coders to build apps with their company data and business logic. Not just reading data, but writing back to close the loop.</p>
                                <div class="tags">
                                    <span class="tag">Data engineer & Analyst & Business user</span>
                                    <span class="tag">Data apps</span>
                                </div>
                                <div class="dot-pattern">
                                    <span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span>
                                    <span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span>
                                    <span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span>
                                </div>
                            </div>
                            <div class="cards-area">
                                <div class="cards-2022-collage" id="cards2022">
                                    <div class="col col-left">
                                        <img src="images/image-14.png" class="card-img" data-delay="0">
                                        <img src="images/image-15.png" class="card-img" data-delay="200">
                                    </div>
                                    <div class="col col-mid">
                                        <img src="images/image-16.png" class="card-img" data-delay="100">
                                        <img src="images/image-17.png" class="card-img" data-delay="250">
                                    </div>
                                    <div class="col col-right">
                                        <img src="images/image-18.png" class="card-img" data-delay="50">
                                        <img src="images/image-19.png" class="card-img" data-delay="150">
                                        <img src="images/image-20.png" class="card-img" data-delay="300">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 2025 - Lavender -->
            <div class="timeline-row">
                <div class="timeline-track">
                    <div class="year-marker">
                        <div class="timeline-dot"></div>
                        <span class="timeline-year">2025</span>
                    </div>
                </div>
                <div class="card-wrapper">
                    <div class="card-layer-bottom"></div>
                    <div class="card-layer-middle"></div>
                    <div class="milestone-card clickable" id="card2025" data-card="2025">
                        <div class="diagonal-accent lavender"></div>
                        <div class="content-grid">
                            <div class="text-content">
                                <div class="meta-line">
                                    <span class="meta-dash"></span>
                                    <span>2025–Now • SigmaComputing</span>
                                </div>
                                <h2 class="headline">Make <strong>data intelligence with AI</strong></h2>
                                <p class="description">Leading the shift to AI-native interfaces that adapt, predict, and collaborate. Building systems where AI isn't decoration but core infrastructure.</p>
                                <div class="tags">
                                    <span class="tag">AI <> UI</span>
                                    <span class="tag">Probabilistic UX</span>
                                    <span class="tag">Design evals</span>
                                </div>
                                <div class="dot-pattern">
                                    <span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span>
                                    <span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span>
                                    <span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span>
                                </div>
                            </div>
                            <div class="cards-area">
                                <div class="feature-blocks">
                                    <div class="feature-block">
                                        <span class="feature-block-icon">🛠️</span>
                                        <span class="feature-block-label">AI Builder</span>
                                    </div>
                                    <div class="feature-block">
                                        <span class="feature-block-icon">💬</span>
                                        <span class="feature-block-label">Chat Experience</span>
                                    </div>
                                    <div class="feature-block">
                                        <span class="feature-block-icon">🤖</span>
                                        <span class="feature-block-label">Agents Framework</span>
                                    </div>
                                    <div class="feature-block">
                                        <span class="feature-block-icon">⚡</span>
                                        <span class="feature-block-label">AI Enabled Functions</span>
                                    </div>
                                    <div class="feature-block">
                                        <span class="feature-block-icon">🔍</span>
                                        <span class="feature-block-label">AI Query</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- Drawer -->
    <aside class="drawer" id="drawer">
        <div class="drawer-header">
            <p class="drawer-label">Deep Dive</p>
            <h2 class="drawer-title" id="drawerTitle">2018: Contextual Insights</h2>
            <button class="drawer-close" id="drawerClose">×</button>
        </div>
        <div class="drawer-body" id="drawerBody">
            <!-- Content injected dynamically -->
        </div>
    </aside>

    <script>
        // Bar Chart Animation on scroll
        const barChartObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const segments = entry.target.querySelectorAll('.bar-segment');
                    segments.forEach((seg, i) => {
                        const width = seg.dataset.width;
                        setTimeout(() => {
                            seg.style.width = width + '%';
                        }, i * 100);
                    });
                    barChartObserver.unobserve(entry.target);
                }
            });
        }, { threshold: 0.5 });

        barChartObserver.observe(document.getElementById('barChart'));

        // Drawer content for each card
        const drawerData = {
            '2013': {
                title: '2013: Visual Data Modeling',
                sections: [
                    {
                        type: 'text',
                        label: 'The Challenge',
                        content: 'Enterprise data modeling was locked behind SQL expertise. Business analysts had ideas but couldn\'t execute without developer support, creating bottlenecks and frustration across organizations.'
                    },
                    {
                        type: 'feature',
                        title: 'Visual-First Approach',
                        description: 'We built drag-and-drop interfaces that translated complex SQL operations into visual building blocks. Users could see relationships, test queries, and iterate without writing code.',
                        features: [
                            { icon: '🎨', label: 'Visual Query Builder' },
                            { icon: '🔗', label: 'Relationship Mapping' }
                        ]
                    },
                    {
                        type: 'outcomes',
                        label: 'Outcome',
                        items: [
                            'Reduced dashboard creation time from weeks to hours.',
                            'Enabled 500+ business users to build their own reports without IT support.'
                        ]
                    }
                ]
            },
            '2018': {
                title: 'Make data insights find people',
                eyebrow: '2018 • MicroStrategy • HyperIntelligence',
                sections: [
                    {
                        type: 'text',
                        label: 'The Challenge',
                        content: 'Analytics teams generate valuable insights, but most end users don\'t engage with them. With enterprise analytics adoption hovering around 30%, data often fails to show up where decisions are actually made—resulting in wasted effort and declining trust in analytics.'
                    },
                    {
                        type: 'stat-card',
                        stat: 'Enterprise analytics adoption is only around 30%.',
                        source: '— from Gartner report'
                    },
                    {
                        type: 'problem',
                        label: 'The user problem',
                        title: 'The cognitive effort outweighs the value',
                        columns: [
                            {
                                header: 'Time-consuming',
                                items: ['loading...', 'find THE cell from millions, and 5 pages']
                            },
                            {
                                header: 'Requires expertise',
                                items: ['🥴 what people see → Scatter plot, Dual axis chart', '🥳 what people can understand → KPI, ring']
                            },
                            {
                                header: 'Scattered information',
                                items: ['I need to see the dashboard while looking at sheet, salesforce, etc. app.']
                            }
                        ],
                        illustrationImage: 'images/image 21.png'
                    },
                    {
                        type: 'solution',
                        label: 'The solution',
                        title: 'Let data insights find people instead of hunting',
                        columns: [
                            {
                                header: 'Contextual',
                                items: ['it hints when data available', 'relevant insights only about "this" data point']
                            },
                            {
                                header: 'Simple',
                                items: ['straightforward data presentation for grade 6+']
                            },
                            {
                                header: 'Frictionless',
                                items: ['data insights overlay all web pages, not only apps']
                            }
                        ],
                        tabs: {
                            segments: ['Consumption', 'Authoring'],
                            consumption: [
                                { id: 'web', label: 'Web', icon: '🌐', video: 'videos/web.mp4' },
                                { id: 'outlook', label: 'Outlook', icon: '📧', video: 'videos/outlook-ezgif.com-gif-to-mp4-converter.mp4' },
                                { id: 'mobile', label: 'Mobile', icon: '📱', video: 'videos/on mobile.mp4', size: '50%' }
                            ],
                            authoring: [
                                { id: 'authoring', label: 'Authoring', icon: '✏️', video: 'videos/Authoring-create card.mp4' }
                            ]
                        }
                    },
                    {
                        type: 'role',
                        label: 'My role',
                        title: 'Founding designer → Design lead → Design manager + IC',
                        columns: [
                            {
                                header: 'Product',
                                items: ['product: 0 → 1 → 70 (if full range is 0-100)', 'product line: Web → 4 platforms']
                            },
                            {
                                header: 'Design team',
                                items: ['IC Sole designer → IC + manage a team of 4 across various platforms']
                            },
                            {
                                header: 'Team expansion',
                                items: ['team: 1 PM + 1 Senior Eng + me → 80 people across 4 products']
                            }
                        ],
                        image: 'images/image22.png'
                    },
                    {
                        type: 'outcomes',
                        label: 'Outcome',
                        items: [
                            'Increased weekly active users by 40% across non-technical departments.',
                            'Reduced time-to-insight from 15 minutes to under 10 seconds.'
                        ]
                    }
                ]
            },
            '2020': {
                title: '2020: Spreadsheet Revolution',
                sections: [
                    {
                        type: 'text',
                        label: 'The Challenge',
                        content: 'Data teams were drowning in ad-hoc requests. Business users wanted the flexibility of spreadsheets but needed access to live warehouse data. The gap between Excel comfort and enterprise data was too wide.'
                    },
                    {
                        type: 'feature',
                        title: 'Familiar Yet Powerful',
                        description: 'We created a spreadsheet interface that connects directly to cloud data warehouses. Users get the familiar row-column paradigm they love, but with billions of rows and real-time data.',
                        features: [
                            { icon: '📊', label: 'Live Data Connection' },
                            { icon: '🧮', label: 'Spreadsheet Interface' }
                        ]
                    },
                    {
                        type: 'outcomes',
                        label: 'Outcome',
                        items: [
                            'Reduced data request backlog by 60% in first quarter.',
                            'Business users created 3x more analyses than with traditional BI tools.'
                        ]
                    }
                ]
            },
            '2022': {
                title: 'Make data fluid',
                eyebrow: '2022 • Sigma • Data App',
                sections: [
                    {
                        type: 'stat-card',
                        stat: 'Sigma as a platform, enables non-coders to build apps with their own data and logic.',
                        source: '— Our Mission'
                    },
                    {
                        type: 'role',
                        label: 'My role',
                        title: 'Founding designer → Design lead',
                        columns: [
                            {
                                header: 'Product',
                                items: ['from write back → action → UI components & layout']
                            },
                            {
                                header: 'Design team',
                                items: ['IC Sole designer → Design lead across 4 teams (I do hands-on works too)']
                            },
                            {
                                header: 'Team expansion',
                                items: ['from 1 team to 4 teams']
                            }
                        ],
                        workAreas: [
                            {
                                header: 'Model',
                                subtitle: 'Write back – Input table',
                                description: '<strong>This is where the work started.</strong><br><br>I set up the <strong>data foundation</strong> and helped a mid-level designer drive the project.'
                            },
                            {
                                header: 'View',
                                subtitle: 'Data display – Components',
                                description: 'I worked with senior designers on <strong>vision and problem framing</strong>'
                            },
                            {
                                header: 'Controller',
                                subtitle: 'Interaction, Logics – Actions',
                                description: 'I shaped <strong>interaction patterns</strong> and <strong>system behavior</strong>, from logic to <strong>pixel-level details</strong>, while helping junior designers grow along the way.'
                            },
                            {
                                header: 'Governance',
                                subtitle: 'Permission in app context',
                                description: 'I rethought <strong>permission models</strong> for a new product era—balancing <strong>flexibility, safety, and scale</strong> across different use cases.'
                            }
                        ]
                    },
                    {
                        type: 'section-header',
                        title: 'Typical problems I tackled/am tackling'
                    },
                    {
                        type: 'project-type',
                        tag: 'Type 1 – From customer intent to product primitives',
                        quote: '"Customer A has this approval case, let us make it happen"',
                        description: 'You may think it sounds like product manager work, what can we do as a designer?'
                    },
                    {
                        type: 'project-type',
                        tag: 'Type 2 – Reducing the need for deep expertise',
                        quote: '"What users built look so bad. We want them to build beautiful apps"',
                        description: 'We all know we should make users easy to build great outcome. But how? and what is hard, what is bad?'
                    },
                    {
                        type: 'project-type',
                        tag: 'Type 3 – Holding the lines, small things but matters',
                        quote: '"I saw at least 10 users say they want to be able to multi-select, let us do it"',
                        description: 'Is that the right way to do?'
                    }
                ]
            },
            '2025': {
                title: '2025: AI-Native Interfaces',
                sections: [
                    {
                        type: 'text',
                        label: 'The Challenge',
                        content: 'AI features were being bolted onto existing interfaces as afterthoughts. Users faced inconsistent experiences—sometimes AI helped, sometimes it got in the way. We needed interfaces designed for AI from the ground up.'
                    },
                    {
                        type: 'feature',
                        title: 'Probabilistic UX',
                        description: 'We\'re building interfaces that embrace uncertainty, show confidence levels, and gracefully handle AI limitations. The UI adapts based on what AI can and cannot reliably do.',
                        features: [
                            { icon: '🤖', label: 'AI-First Design' },
                            { icon: '📈', label: 'Confidence Indicators' }
                        ]
                    },
                    {
                        type: 'outcomes',
                        label: 'Outcome',
                        items: [
                            'Pioneering design patterns for AI-native analytics.',
                            'Building evaluation frameworks to measure AI interface effectiveness.'
                        ]
                    }
                ]
            }
        };

        // Build drawer content
        function buildDrawerContent(cardId) {
            const data = drawerData[cardId];
            if (!data) return '';

            let html = '';
            data.sections.forEach(section => {
                if (section.type === 'text') {
                    html += `
                        <div class="drawer-section">
                            <p class="drawer-section-label">${section.label}</p>
                            <p class="drawer-section-text">${section.content}</p>
                        </div>
                    `;
                } else if (section.type === 'feature') {
                    html += `
                        <div class="drawer-section">
                            <div class="feature-card">
                                <h3 class="feature-card-title">${section.title}</h3>
                                <p class="feature-card-text">${section.description}</p>
                                <div class="feature-items">
                                    ${section.features.map(f => `
                                        <div class="feature-item">
                                            <div class="feature-icon">${f.icon}</div>
                                            <div class="feature-label">${f.label}</div>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                    `;
                } else if (section.type === 'stat-card') {
                    html += `
                        <div class="drawer-section">
                            <div class="stat-card">
                                <p class="stat-card-text">${section.stat}</p>
                                <p class="stat-card-source">${section.source}</p>
                            </div>
                        </div>
                    `;
                } else if (section.type === 'problem') {
                    let illustrationHtml = '';
                    if (section.illustrationImage) {
                        illustrationHtml = `
                            <div class="problem-illustration-image">
                                <img src="${section.illustrationImage}" alt="Illustration" class="illustration-img">
                            </div>
                        `;
                    }
                    html += `
                        <div class="drawer-section">
                            <p class="drawer-section-label">${section.label}</p>
                            <h3 class="problem-title">${section.title}</h3>
                            <div class="problem-columns">
                                ${section.columns.map(col => `
                                    <div class="problem-column">
                                        <h4 class="problem-column-header">${col.header}</h4>
                                        <ul class="problem-column-list">
                                            ${col.items.map(item => `<li>${item}</li>`).join('')}
                                        </ul>
                                    </div>
                                `).join('')}
                            </div>
                            ${illustrationHtml}
                        </div>
                    `;
                } else if (section.type === 'role') {
                    const roleImageHtml = section.image ? `
                        <div class="role-image-container">
                            <img src="${section.image}" alt="Role illustration" class="role-img">
                        </div>
                    ` : '';
                    const workAreasHtml = section.workAreas ? `
                        <div class="work-areas">
                            ${section.workAreas.map(area => `
                                <div class="work-area">
                                    <h4 class="work-area-header">${area.header}</h4>
                                    <p class="work-area-subtitle">${area.subtitle}</p>
                                    <div class="work-area-line"></div>
                                    <p class="work-area-description">${area.description}</p>
                                </div>
                            `).join('')}
                        </div>
                    ` : '';
                    html += `
                        <div class="drawer-section">
                            <p class="drawer-section-label">${section.label}</p>
                            <h3 class="role-title">${section.title}</h3>
                            <div class="role-columns">
                                ${section.columns.map(col => `
                                    <div class="role-column">
                                        <h4 class="role-column-header">${col.header}</h4>
                                        <ul class="role-column-list">
                                            ${col.items.map(item => `<li>${item}</li>`).join('')}
                                        </ul>
                                    </div>
                                `).join('')}
                            </div>
                            ${workAreasHtml}
                            ${roleImageHtml}
                        </div>
                    `;
                } else if (section.type === 'solution') {
                    let tabsHtml = '';
                    if (section.tabs && section.tabs.segments) {
                        const allTabs = [...section.tabs.consumption, ...section.tabs.authoring];
                        tabsHtml = `
                            <div class="solution-tabs" data-active-segment="consumption">
                                <div class="tabs-controls">
                                    <div class="segment-control">
                                        ${section.tabs.segments.map((seg, i) => `
                                            <button class="segment-btn ${i === 0 ? 'active' : ''}" data-segment="${seg.toLowerCase()}">${seg}</button>
                                        `).join('')}
                                    </div>
                                    <div class="toggle-group" data-segment="consumption">
                                        ${section.tabs.consumption.map((tab, i) => `
                                            <button class="toggle-btn ${i === 0 ? 'active' : ''}" data-tab="${tab.id}">
                                                <span class="toggle-icon">${tab.icon}</span>
                                                <span class="toggle-label">${tab.label}</span>
                                            </button>
                                        `).join('')}
                                    </div>
                                    <div class="toggle-group hidden" data-segment="authoring">
                                        ${section.tabs.authoring.map((tab, i) => `
                                            <button class="toggle-btn ${i === 0 ? 'active' : ''}" data-tab="${tab.id}">
                                                <span class="toggle-icon">${tab.icon}</span>
                                                <span class="toggle-label">${tab.label}</span>
                                            </button>
                                        `).join('')}
                                    </div>
                                </div>
                                <div class="tab-contents">
                                    ${allTabs.map((tab, i) => `
                                        <div class="tab-content ${i === 0 ? 'active' : ''}" data-tab="${tab.id}">
                                            ${tab.video ? `
                                                <video class="tab-video" autoplay loop muted playsinline style="${tab.size ? `max-width: ${tab.size}` : ''}">
                                                    <source src="${tab.video}" type="video/mp4">
                                                </video>
                                            ` : `
                                                <img src="${tab.image}" alt="${tab.label}" class="tab-image">
                                            `}
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        `;
                    }
                    html += `
                        <div class="drawer-section">
                            <p class="drawer-section-label">${section.label}</p>
                            <h3 class="solution-title">${section.title}</h3>
                            <div class="solution-columns">
                                ${section.columns.map(col => `
                                    <div class="solution-column">
                                        <h4 class="solution-column-header">${col.header}</h4>
                                        <ul class="solution-column-list">
                                            ${col.items.map(item => `<li>${item}</li>`).join('')}
                                        </ul>
                                    </div>
                                `).join('')}
                            </div>
                            ${tabsHtml}
                        </div>
                    `;
                } else if (section.type === 'outcomes') {
                    html += `
                        <div class="drawer-section">
                            <p class="drawer-section-label">${section.label}</p>
                            <div class="outcome-list">
                                ${section.items.map((item, i) => `
                                    <div class="outcome-item">
                                        <div class="outcome-number">${i + 1}</div>
                                        <p class="outcome-text">${item}</p>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    `;
                } else if (section.type === 'section-header') {
                    html += `
                        <div class="drawer-section section-header">
                            <h2 class="section-header-title">${section.title}</h2>
                        </div>
                    `;
                } else if (section.type === 'project-type') {
                    const expandableHtml = section.expandedContent ? `
                        <div class="project-type-expanded">
                            ${section.expandedContent}
                        </div>
                    ` : '';
                    html += `
                        <div class="drawer-section project-type-card" onclick="this.classList.toggle('expanded')">
                            <div class="project-type-header">
                                <div class="project-type-tag">${section.tag}</div>
                                <span class="project-type-toggle">▼</span>
                            </div>
                            <h3 class="project-type-quote">${section.quote}</h3>
                            <p class="project-type-description">${section.description}</p>
                            ${expandableHtml}
                        </div>
                    `;
                }
            });
            return html;
        }

        // Play animation for 2018 card
        function playAnimation2018() {
            const cards = document.querySelectorAll('#cards2018 .card-img');
            cards.forEach(card => {
                card.classList.remove('animate');
                card.style.opacity = '0';
                card.style.transform = 'scale(1.2)';
            });

            void document.body.offsetHeight;

            cards.forEach(card => {
                const delay = parseInt(card.dataset.delay) || 0;
                setTimeout(() => card.classList.add('animate'), delay);
            });
        }

        // Open drawer
        function openDrawer(cardId) {
            const data = drawerData[cardId];
            if (!data) return;

            document.getElementById('drawerTitle').textContent = data.title;
            document.getElementById('drawerBody').innerHTML = buildDrawerContent(cardId);

            // Set eyebrow if available
            const drawerLabel = document.querySelector('.drawer-label');
            if (data.eyebrow) {
                drawerLabel.textContent = data.eyebrow;
            } else {
                drawerLabel.textContent = 'Deep Dive';
            }

            // Remove active from all cards, then add to current
            document.querySelectorAll('.milestone-card.clickable').forEach(c => c.classList.remove('active'));
            const activeCard = document.getElementById('card' + cardId);
            if (activeCard) activeCard.classList.add('active');

            document.body.classList.add('drawer-open');
        }

        // Close drawer
        function closeDrawer() {
            document.body.classList.remove('drawer-open');
            document.querySelectorAll('.milestone-card.clickable').forEach(c => c.classList.remove('active'));
        }

        // Event listeners for all cards
        document.querySelectorAll('.milestone-card.clickable').forEach(card => {
            card.addEventListener('click', () => {
                const cardId = card.dataset.card;
                openDrawer(cardId);
            });
        });
        document.getElementById('drawerClose').addEventListener('click', closeDrawer);
        document.addEventListener('keydown', e => { if (e.key === 'Escape') closeDrawer(); });

        // Tab switching functionality (using event delegation)
        document.getElementById('drawer').addEventListener('click', function(e) {
            // Segment control switching
            if (e.target.classList.contains('segment-btn')) {
                const segment = e.target.dataset.segment;
                const tabsContainer = e.target.closest('.solution-tabs');

                // Update segment buttons
                tabsContainer.querySelectorAll('.segment-btn').forEach(btn => btn.classList.remove('active'));
                e.target.classList.add('active');

                // Show/hide toggle groups
                tabsContainer.querySelectorAll('.toggle-group').forEach(group => {
                    if (group.dataset.segment === segment) {
                        group.classList.remove('hidden');
                        // Auto-select first toggle in this group and show its content
                        const firstToggle = group.querySelector('.toggle-btn');
                        if (firstToggle) {
                            tabsContainer.querySelectorAll('.toggle-btn').forEach(btn => btn.classList.remove('active'));
                            firstToggle.classList.add('active');
                            const tabId = firstToggle.dataset.tab;
                            tabsContainer.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
                            tabsContainer.querySelector(`.tab-content[data-tab="${tabId}"]`).classList.add('active');
                        }
                    } else {
                        group.classList.add('hidden');
                    }
                });
            }

            // Toggle button switching
            if (e.target.classList.contains('toggle-btn') || e.target.closest('.toggle-btn')) {
                const btn = e.target.classList.contains('toggle-btn') ? e.target : e.target.closest('.toggle-btn');
                const tabId = btn.dataset.tab;
                const tabsContainer = btn.closest('.solution-tabs');

                // Update toggle buttons in the visible group only
                const activeGroup = tabsContainer.querySelector('.toggle-group:not(.hidden)');
                activeGroup.querySelectorAll('.toggle-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');

                // Update content
                tabsContainer.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
                tabsContainer.querySelector(`.tab-content[data-tab="${tabId}"]`).classList.add('active');
            }
        });

        // Play animation for 2022 card
        function playAnimation2022() {
            const cards = document.querySelectorAll('#cards2022 .card-img');
            cards.forEach(card => {
                card.classList.remove('animate');
                card.style.opacity = '0';
                card.style.transform = 'scale(1.2)';
            });

            void document.body.offsetHeight;

            cards.forEach(card => {
                const delay = parseInt(card.dataset.delay) || 0;
                setTimeout(() => card.classList.add('animate'), delay);
            });
        }

        // Intersection Observer for 2018 card animation
        const observer2018 = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    playAnimation2018();
                    observer2018.unobserve(entry.target);
                }
            });
        }, { threshold: 0.3 });

        observer2018.observe(document.getElementById('row2018'));

        // Intersection Observer for 2022 card animation
        const observer2022 = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    playAnimation2022();
                    observer2022.unobserve(entry.target);
                }
            });
        }, { threshold: 0.3 });

        observer2022.observe(document.getElementById('card2022').closest('.timeline-row'));
    </script>
</body>
</html>